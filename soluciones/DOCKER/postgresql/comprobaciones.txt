# Crear el contenedor:
docker-compose up -d


# comprobar si esta arrancado:
docker ps


# Conectar con el contenedor: 
docker exec -it postgres_dev bash


# Como el backup es binario, hay que ejecutarlo con pg_restore:
# OJO meter el role, porque el backup se hizo con el user: postgre
pg_restore -U antonio -d empresa3 --role=antonio /docker-entrypoint-initdb.d/empresa3_pg.sql
de todas formas parece que dio error o warning y habia creado las tablas!!


# Conectar con psql:
psql -U antonio -d empresa3


# Dentro del psql:
\l  listar BDs
\dt listar tablas
\dt empresa3.*  listar tablas del esquema de empresa3
select * from tbempleados;

pg_data:/var/lib/postgresql/data
Este es un volumen persistente.

Guarda los datos reales de la base de datos PostgreSQL (tablas, índices, etc.).

Aunque el contenedor se destruya, los datos permanecen en tu máquina.

Se monta en la ruta interna del contenedor: /var/lib/postgresql/data.

2. ./empresa3_pg.sql:/docker-entrypoint-initdb.d/empresa3_pg.sql
Esto monta tu archivo de backup (que está en tu máquina host) dentro del contenedor.

El archivo estará disponible en la ruta /docker-entrypoint-initdb.d/empresa3_pg.sql dentro del contenedor.

Esta ruta es especial: el script de arranque de PostgreSQL (docker-entrypoint.sh) escanea esa carpeta al iniciar el contenedor por primera vez.


